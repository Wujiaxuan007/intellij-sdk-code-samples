# IntelliJ Platform SDK Code Samples

[![çŸ¥ä¹](https://cdn.nlark.com/yuque/0/2022/svg/1233924/1671506271562-235db770-187c-4265-a156-2ac46a13f547.svg)][wjx:zhihu]

åœ¨çŸ¥ä¹å‘è¡¨äº†ã€ŠIntelliJ IDEA æ’ä»¶å¼€å‘æŒ‡å—ã€‹åå“è¶…ä¹é¢„æ–™ï¼Œè€ƒè™‘äº†é˜…è¯»ä½“æ„Ÿï¼Œæ²¡æœ‰ç»†èŠæ¯ä¸ªç‚¹ã€‚ çŸ¥ä¹ç§ä¿¡æœºåˆ¶å¯¼è‡´æ²Ÿé€šéå¸¸ä½æ•ˆï¼Œå¯¹äºç¨‹åºå‘˜è€Œè¨€ï¼Œ"Talk is cheap, show me the code" æ‰æ˜¯ç‹é“

ä¹‹å‰å¼€å‘çš„æ’ä»¶ "Trantor" æš‚æ—¶ä¸è€ƒè™‘å¼€æºï¼Œæ‰€ä»¥åªèƒ½æŠ½å‡ºä¸€äº›ä¸ªäººè®¤ä¸ºæœ‰å¿…è¦ç‚¹ï¼Œä»¥ "æ–‡ç«  + demo" çš„å½¢å¼å¥½å¥½èŠä¸€èŠã€‚

å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—ç‚¹äº® â­ï¸

## è¯´æ˜

- Java 11 & Kotlin æ··åˆå¼€å‘
- Gradle 7.3
- å›¾æ ‡ï¼š![å›¾æ ‡](https://cdn.nlark.com/yuque/0/2022/svg/1233924/1671960578501-62f98da8-735e-4f4a-b8af-f873500d969b.svg)

## ä»£ç ç¤ºä¾‹

> å®˜æ–¹ä¹Ÿæä¾›äº†ç®€å•çš„ä»£ç ç¤ºä¾‹: [å®˜æ–¹ç¤ºä¾‹](https://github.com/JetBrains/intellij-sdk-code-samples)

æœªå®Œå¾…ç»­ ...

| Code Sample                    | Description                                                                                                                               |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| [PSI](./psi)                   | PSI è·å–ã€åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ã€è·³è½¬ç­‰ <br/>![generate](https://cdn.nlark.com/yuque/0/2022/gif/1233924/1671961958581-d32c51f0-76e9-4ed5-a0e9-c9827deea23c.gif) |
| [LineMarker](./lineMarker)     | è¡Œæ ‡è®° <br/> ![lineMarkerGif](https://cdn.nlark.com/yuque/0/2022/gif/1233924/1672046795673-1e81dfcd-11a5-4729-9b3a-ba8285c44de2.gif)         |
| [Reference](./reference)       | ä»£ç å¼•ç”¨  <br/> ![XmlRefContributorGif](https://cdn.nlark.com/yuque/0/2022/gif/1233924/1672128287232-513197df-19cf-4ab7-9e54-97bb095d22bc.gif) |
| [Search Everywhere](./search)  | æŸ¥æ‰¾ <br/> ![æ•ˆæœ](https://cdn.nlark.com/yuque/0/2023/gif/1233924/1674029883812-dc7b2b37-7cda-4e98-a1bc-5b11a174311e.gif)|
| [ModuleType](./module)         | è‡ªå®šä¹‰æ¨¡å—ç±»å‹ ![æ•ˆæœ](https://cdn.nlark.com/yuque/0/2023/gif/1233924/1675326998264-a25a8e81-fc95-4550-a6ac-4d0df3312677.gif)|
| [ProgressBar](./progressbar) | // TODO è¿›åº¦æ¡ & è‡ªå®šä¹‰é…ç½®  |
| [theme](./theme) | // TODO ä¸»é¢˜|
| [Compatible](./compatible_api) | // TODO sdk å…¼å®¹æ€§é—®é¢˜    |
| [Error](./error) | // TODO é”™è¯¯åé¦ˆï¼Œä¸€é”®æäº¤ issue åˆ° Github   |

## è¿è¡Œ

> Gradle -> Tasks -> IntelliJ -> runIde -> Run/Debug

![è¿è¡Œ](https://cdn.nlark.com/yuque/0/2022/png/1233924/1671960061290-24264b4c-688e-46ce-becd-776debd552c9.png?x-oss-process=image%2Fresize%2Cw_1500%2Climit_0)

## æˆ‘æ˜¯å¦‚ä½•å­¦ä¹ çš„ï¼Ÿ

å¥½å‡ ä¸ªç½‘å‹é—®æˆ‘è¦æ’ä»¶å¼€å‘çš„å­¦ä¹ èµ„æ–™ï¼Œè¿˜æ˜¯é‚£å¥è¯ "å®˜æ–¹æ–‡æ¡£ã€å¼€æºæ’ä»¶ã€ç¤¾åŒºã€IDEAæºç æ˜¯æ’ä»¶å¼€å‘æœ€å¥½çš„è€å¸ˆã€‚"ã€‚

"Trantor" æ’ä»¶å¼€å‘å‘¨æœŸï¼š2020.9 åˆ° 2022.1ï¼Œç›®å‰æ’ä»¶åŸºæœ¬ç¨³å®šï¼Œå·¥ä½œçš„é‡å¿ƒè‡ªç„¶ä¹Ÿä¸å†æ’ä»¶å•¦ã€‚ è¯´å®è¯ï¼Œidea æ’ä»¶å¼€å‘ä¸æˆ‘ä¹‹å‰çš„é¡¹ç›®æ¯«æ— è”ç³»ï¼Œå½“æ—¶ç”šè‡³ Java éƒ½ä¸å¤ªç†Ÿï¼Œå½“æ—¶è®¤ä¸ºå®ƒæ˜¯ä¸€ä»¶æœ‰æ„æ€çš„äº‹ï¼Œå°±å»åšäº†ã€‚

å¼€å‘çš„è¿‡ç¨‹ä¸­ç¡®å®æœ‰ä¸€äº›æ›²æŠ˜ï¼Œé¦–å…ˆï¼Œ2020 å¹´çš„å®˜æ–¹æ–‡æ¡£çœŸçš„çœŸçš„å¾ˆæ™¦æ¶©(ğŸŒ¶ï¸ğŸ”)ï¼Œè¦ä»€ä¹ˆæ²¡ä»€ä¹ˆã€‚ç°åœ¨æ–‡æ¡£ä¸è®ºä»å†…å®¹è¿˜æ˜¯æ’ç‰ˆä¸Šæœ‰è´¨çš„é£è·ƒï¼Œ æ‰€ä»¥ç°åœ¨æ‰å¼€å§‹å¼€å‘æ’ä»¶çš„ä½ ä»¬ï¼Œå°±å·ç€ä¹å§ï¼ˆdoge)
ã€‚ä¸è¿‡æ–‡æ¡£å§‹ç»ˆæ˜¯æ— æ³•æ¶‰åŠåˆ°æ¯ä¸ªç‚¹çš„ï¼Œä½†æ˜¯æºç å¯ä»¥ï¼

### ä¸ºæ•°ä¸å¤šçš„ç»éªŒä¹‹è°ˆ

> åœ¨ IDE çœ‹åˆ°çš„ä¸€åˆ‡åœ¨æºç é‡Œéƒ½æœ‰è¿¹å¯å¾ª, ä½ èƒ½çœ‹åˆ°çš„ä½ å°±èƒ½å®ç°

**ä¸¾ä¸€åä¸‰**

æ‹¿ç¬¬ä¸€ä¸ªéœ€æ±‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“æ—¶æ˜¯éœ€è¦åšä¸€ä¸ª Tool Windowï¼Œé‡Œé¢æ˜¯ä¸€æ£µèµ„æºæ ‘ï¼š
![èµ„æºæ ‘](https://plugins.jetbrains.com/files/18960/screenshot_137b1141-dad9-4cfe-8438-57d0d4a92e9a)

å½“æ—¶å¼€å‘çš„å¤§è‡´æ€è·¯ï¼š

1. æ–‡æ¡£æœ windowï¼Œå®šä½åˆ° `tool window` ç›¸å…³å†…å®¹ï¼Œå…ˆå¤§è‡´è¿‡ä¸€éæ–‡æ¡£ï¼Œå‘ç°æ–‡æ¡£ä¸­æåˆ° demo é¡¹ç›®æœ‰ç›¸å…³ä»£ç ç¤ºä¾‹ã€‚
2. æ–‡æ¡£æœ tree, å®šä½åˆ° `tree structure` ç›¸å…³å†…å®¹ï¼Œå…ˆå¤§è‡´è¿‡ä¸€éæ–‡æ¡£ï¼Œå‘ç°æ–‡æ¡£ä¸­æåˆ° demo é¡¹ç›®æœ‰ç›¸å…³ä»£ç ç¤ºä¾‹ã€‚
3. æŠŠå®˜æ–¹ä»£ç ç¤ºä¾‹æ‹‰ä¸‹æ¥ï¼Œä½¿ç”¨ Gradle æ’ä»¶æä¾›çš„ runIde debug ä¸‹ `tool_window` å’Œ `tree_structure_provider` çš„ demoï¼Œçœ‹ä¸‹å¤§è‡´æµç¨‹ã€‚
4. å…¶å®è¿™ä¸ªéœ€æ±‚ï¼Œç‚¹ç±»ä¼¼äº Project é‚£ä¸ªçª—å£ï¼Œäºæ˜¯å°±ä»£ç å…¨å±€æœç´¢å…³é”®å­—ã€‚æ‰¾åˆ°å…³é”®ç±»åä¸€ç‚¹ç‚¹ debugï¼Œå‚è€ƒæºç é‡Œ tree & node æ˜¯å¦‚ä½•å£°æ˜çš„ã€‚
   ![](https://cdn.nlark.com/yuque/0/2022/png/1233924/1671524701877-d2332977-5675-4dd4-9af8-552027f66238.png)

ä¸Šé¢ gif å¯ä»¥çœ‹åˆ°ä¸‹é¢è¿˜æœ‰ä¸€ä¸ª TrantorLint çš„ tool windowï¼Œä¸»è¦ç”¨äºä»£ç æ£€æŸ¥ï¼ˆå› ä¸º Trantor æ’ä»¶æ˜¯æœåŠ¡äºå…¬å¸å†…éƒ¨æ¡†æ¶çš„ï¼Œæ¡†æ¶ä¼šæœ‰è‡ªå·±çš„èµ„æºå®šä¹‰è§„èŒƒä¸ä»£ç é™åˆ¶ï¼‰ã€‚ å½“æ—¶å‚è€ƒäº†**å¼€æº**
çš„æ’ä»¶: [sonarlint](https://github.com/SonarSource/sonarlint-intellij) ï¼Œgit clone å runIde ç–¯ç‹‚ debug åçš„ç»“æœã€‚

**çŒœçŒœçŒœ**

çŒœï¼Œä½†ä¸æ˜¯ç›²ç›®çš„çŒœã€‚åˆç†åˆ©ç”¨ç”¨å…³é”®è¯å…¨å±€æœç´¢ï¼Œå¦‚æœæƒ³è¦æ‰¾æŸä¸ªæ–¹æ³•ï¼Œåªèƒ½æ ¹æ®æ„å›¾å»çŒœã€‚å½“æ—¶æœ‰ä¸ªéœ€æ±‚éœ€è¦å»æ‰¾æŒ‡å®š library é‡Œé¢çš„æ–‡ä»¶ï¼š

1. é¦–å…ˆè¦æ‰¾åˆ°å…·ä½“çš„ `library` å®ä½“ã€‚å…ˆå…¨å±€æ‰¾ `Library` ç±»ï¼Œç„¶ååœ¨çœ‹ä¸‹å¼•ç”¨ï¼Œåˆ©ç”¨å…³é”®è¯ "find","get" ä¹‹ç±»çš„æœç›¸å…³ apiã€‚
   ![lib](https://cdn.nlark.com/yuque/0/2022/png/1233924/1671528047977-bfa71b32-a16c-4d70-a43f-fea263425ee5.png?x-oss-process=image%2Fresize%2Cw_1500%2Climit_0)
2. library å®ä½“é‡Œå»æ‰¾æ–‡ä»¶ã€‚è¿™ä¸ªæ­¥éª¤å°±æ¯”è¾ƒç®€å•äº†ï¼Œ`library.` çœ‹ä¸‹ä»£ç æç¤ºå³å¯ã€‚

**æ³¨é‡Š**

å­¦ä¼šçœ‹ä»£ç æ³¨é‡Šï¼Œè¿™å¥è¯å¥—åœ¨ä»»ä½•ä»£ç å¼€å‘åœºæ™¯éƒ½é€‚ç”¨ã€‚ ç›®å‰å®˜æ–¹æ–‡æ¡£ä»ä¸å¤Ÿç»†è‡´ï¼Œä½†å¤§éƒ¨åˆ†æºç æ³¨é‡Šå†™çš„éƒ½å¾ˆåˆ°ä½ï¼Œæ‰€ä»¥è¿˜æ˜¯å•ç‹¬æ‹å‡ºæ¥å¼•èµ·ä½ çš„é‡è§† (doge)ã€‚


[wjx:zhihu]: https://zhuanlan.zhihu.com/p/400059601
